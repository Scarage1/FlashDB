(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},52786,e=>{"use strict";let t=(0,e.i(75254).default)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);e.s(["HardDrive",()=>t],52786)},38171,e=>{"use strict";var t=e.i(43476);function s({label:e,value:s,icon:r,color:a="var(--brand)",trend:i}){return(0,t.jsxs)("div",{className:"card p-4 sm:p-5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[r&&(0,t.jsx)("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`color-mix(in srgb, ${a} 10%, transparent)`,color:a},children:r}),void 0!==i&&0!==i&&(0,t.jsxs)("span",{className:"flex items-center gap-0.5 text-xs font-semibold px-1.5 py-0.5 rounded-full",style:{color:i>0?"var(--success)":"var(--error)",background:i>0?"var(--success-muted)":"var(--error-muted)"},children:[(0,t.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:(0,t.jsx)("path",{d:i>0?"M5 2L8 6H2L5 2Z":"M5 8L2 4H8L5 8Z",fill:"currentColor"})}),Math.abs(i)]})]}),(0,t.jsx)("div",{className:"text-2xl sm:text-3xl font-display font-bold tabular-nums",style:{color:"var(--text-primary)"},children:s}),(0,t.jsx)("div",{className:"text-xs font-medium mt-1",style:{color:"var(--text-tertiary)"},children:e})]})}e.s(["default",()=>s])},37757,40803,e=>{"use strict";var t=e.i(43476);function s({title:e,description:s,badge:r,actions:a}){return(0,t.jsxs)("div",{className:"flex items-start sm:items-center justify-between mb-8 gap-4 flex-col sm:flex-row",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h1",{className:"font-display text-2xl sm:text-3xl font-bold tracking-tight",style:{color:"var(--text-primary)"},children:e}),r&&("string"==typeof r?(0,t.jsx)("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded-full",style:{background:"var(--brand-muted)",color:"var(--brand)"},children:r}):r)]}),(0,t.jsx)("p",{className:"text-sm mt-1.5",style:{color:"var(--text-secondary)"},children:s})]}),a&&(0,t.jsx)("div",{className:"flex items-center gap-2 flex-shrink-0",children:a})]})}function r({icon:e,title:s,description:r,action:a}){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-6 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mb-5",style:{background:"var(--bg-tertiary)",color:"var(--text-tertiary)"},children:e}),(0,t.jsx)("h3",{className:"font-display text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:s}),(0,t.jsx)("p",{className:"text-sm max-w-sm leading-relaxed mb-6",style:{color:"var(--text-tertiary)"},children:r}),a]})}e.s(["default",()=>s],37757),e.s(["default",()=>r],40803)},88442,e=>{"use strict";var t=e.i(43476);function s({width:e="100%",height:s="16px"}){return(0,t.jsx)("div",{className:"skeleton",style:{width:e,height:s}})}function r(){return(0,t.jsxs)("div",{className:"card p-5 space-y-3",children:[(0,t.jsx)(s,{width:"40%",height:"12px"}),(0,t.jsx)(s,{width:"60%",height:"24px"}),(0,t.jsx)(s,{width:"80%",height:"12px"})]})}function a({rows:e=5}){return(0,t.jsxs)("div",{className:"card overflow-hidden",children:[(0,t.jsx)("div",{className:"px-5 py-3",style:{borderBottom:"1px solid var(--border)"},children:(0,t.jsx)(s,{width:"120px",height:"14px"})}),Array.from({length:e}).map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-4 px-5 py-3",style:{borderTop:r>0?"1px solid var(--border)":void 0},children:[(0,t.jsx)(s,{width:"60px",height:"12px"}),(0,t.jsx)(s,{width:"40%",height:"12px"}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)(s,{width:"80px",height:"12px"})]},r))]})}function i({height:e=120}){return(0,t.jsxs)("div",{className:"card p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(s,{width:"100px",height:"14px"}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)(s,{width:"60px",height:"12px"})]}),(0,t.jsx)("div",{className:"skeleton",style:{width:"100%",height:`${e}px`}})]})}e.s(["SkeletonCard",()=>r,"SkeletonChart",()=>i,"SkeletonLine",()=>s,"SkeletonTable",()=>a])},16715,e=>{"use strict";let t=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],16715)},96640,e=>{"use strict";var t=e.i(43476);function s({children:e,color:s="var(--brand)",variant:r="soft"}){let a={solid:{background:s,color:"white",border:"none"},soft:{background:`color-mix(in srgb, ${s} 10%, transparent)`,color:s,border:"none"},outline:{background:"transparent",color:s,border:`1px solid ${s}`}};return(0,t.jsx)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-semibold",style:a[r],children:e})}e.s(["default",()=>s])},18393,e=>{"use strict";let t=(0,e.i(75254).default)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);e.s(["Server",()=>t],18393)},73148,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(46932),a=e.i(21218),i=e.i(3116),l=e.i(52786),o=e.i(75254);let n=(0,o.default)("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]);var d=e.i(18393),c=e.i(16715),x=e.i(39312);let m=(0,o.default)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var h=e.i(9165),y=e.i(37757),p=e.i(38171),u=e.i(96640),v=e.i(88442),f=e.i(40803);let j={hidden:{},show:{transition:{staggerChildren:.06}}},b={hidden:{opacity:0,y:12},show:{opacity:1,y:0}};function g(){var e;let o,g,N,k,[w,M]=(0,s.useState)({}),[S,C]=(0,s.useState)([]),[L,T]=(0,s.useState)(!0),[z,A]=(0,s.useState)(!1),$=(0,s.useCallback)(async()=>{let e=await (0,h.executeCommand)("INFO"),t={};("string"==typeof e.result?e.result:"").split("\n").forEach(e=>{if(!e||e.startsWith("#"))return;let s=e.indexOf(":");s>0&&(t[e.slice(0,s).trim()]=e.slice(s+1).trim())}),M(t);let s=await (0,h.executeCommand)("SLOWLOG GET 25");Array.isArray(s.result)&&C(s.result.map((e,t)=>Array.isArray(e)?{id:Number(e[0]??t),timestamp:Number(e[1]??0),duration:Number(e[2]??0),command:Array.isArray(e[3])?e[3].join(" "):String(e[3]??"")}:{id:t,timestamp:0,duration:0,command:String(e??"")})),T(!1)},[]);(0,s.useEffect)(()=>{$();let e=setInterval($,8e3);return()=>clearInterval(e)},[$]);let B=async()=>{A(!0),await $(),A(!1)},H=[{icon:(0,t.jsx)(i.Clock,{size:18}),label:"Uptime",value:(o=Math.floor((e=Number(w.uptime_in_seconds||0))/86400),g=Math.floor(e%86400/3600),N=Math.floor(e%3600/60),o?`${o}d ${g}h ${N}m`:g?`${g}h ${N}m`:`${N}m`),color:"#f59e0b"},{icon:(0,t.jsx)(n,{size:18}),label:"Memory Used",value:(k=Number(w.used_memory||"0"))>=1e9?`${(k/1e9).toFixed(1)} GB`:k>=1e6?`${(k/1e6).toFixed(1)} MB`:k>=1e3?`${(k/1e3).toFixed(1)} KB`:`${k} B`,color:"#0284c7"},{icon:(0,t.jsx)(l.HardDrive,{size:18}),label:"DB Keys",value:w.keys||"0",color:"#8b5cf6"},{icon:(0,t.jsx)(a.Activity,{size:18}),label:"Total Reads",value:Number(w.total_reads||0).toLocaleString(),color:"#059669"},{icon:(0,t.jsx)(x.Zap,{size:18}),label:"Total Writes",value:Number(w.total_writes||0).toLocaleString(),color:"#ef4444"},{icon:(0,t.jsx)(d.Server,{size:18}),label:"Version",value:w.flashdb_version||"—",color:"#71717a"}];return(0,t.jsxs)(r.motion.div,{className:"max-w-6xl mx-auto px-4 sm:px-6 py-8",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35},children:[(0,t.jsx)(y.default,{title:"Monitoring",description:"Real-time server metrics · refreshes every 8s",badge:(0,t.jsx)(u.default,{variant:"soft",color:"#22c55e",children:"● Live"}),actions:(0,t.jsxs)("button",{onClick:B,className:"btn-secondary !px-3 !py-1.5 !text-xs",children:[(0,t.jsx)(c.RefreshCw,{size:14,className:z?"animate-spin":""})," Refresh"]})}),L?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-8",children:Array.from({length:6}).map((e,s)=>(0,t.jsx)(v.SkeletonCard,{},s))}):(0,t.jsx)(r.motion.div,{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-8",variants:j,initial:"hidden",animate:"show",children:H.map(e=>(0,t.jsx)(r.motion.div,{variants:b,children:(0,t.jsx)(p.default,{icon:e.icon,label:e.label,value:e.value,color:e.color})},e.label))}),(0,t.jsxs)("div",{className:"card overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-5 py-4",style:{borderBottom:"1px solid var(--border)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"color-mix(in srgb, var(--error) 10%, transparent)"},children:(0,t.jsx)(m,{size:16,style:{color:"var(--error)"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-display text-sm font-bold",style:{color:"var(--text-primary)"},children:"Slow Queries"}),(0,t.jsxs)("p",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:[S.length," entries"]})]})]}),(0,t.jsx)(u.default,{variant:"outline",color:"#f59e0b",children:"SLOWLOG"})]}),L?(0,t.jsx)(v.SkeletonTable,{rows:5}):S.length?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{style:{background:"var(--bg-secondary)"},children:[(0,t.jsx)("th",{className:"text-left py-2.5 px-5 text-xs font-semibold",style:{color:"var(--text-tertiary)"},children:"ID"}),(0,t.jsx)("th",{className:"text-left py-2.5 px-5 text-xs font-semibold",style:{color:"var(--text-tertiary)"},children:"Duration"}),(0,t.jsx)("th",{className:"text-left py-2.5 px-5 text-xs font-semibold",style:{color:"var(--text-tertiary)"},children:"Command"}),(0,t.jsx)("th",{className:"text-left py-2.5 px-5 text-xs font-semibold",style:{color:"var(--text-tertiary)"},children:"Timestamp"})]})}),(0,t.jsx)("tbody",{children:S.map(e=>(0,t.jsxs)("tr",{className:"transition-colors",style:{borderTop:"1px solid var(--border)"},onMouseEnter:e=>e.currentTarget.style.background="var(--bg-secondary)",onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[(0,t.jsxs)("td",{className:"py-2.5 px-5 text-xs font-mono",style:{color:"var(--text-tertiary)"},children:["#",e.id]}),(0,t.jsxs)("td",{className:"py-2.5 px-5 text-xs font-mono font-bold",style:{color:e.duration>1e4?"var(--error)":"var(--warning)"},children:[e.duration,"μs"]}),(0,t.jsx)("td",{className:"py-2.5 px-5 font-mono text-xs",style:{color:"var(--text-primary)"},children:e.command}),(0,t.jsx)("td",{className:"py-2.5 px-5 text-xs",style:{color:"var(--text-tertiary)"},children:e.timestamp?new Date(1e3*e.timestamp).toLocaleTimeString():"—"})]},e.id))})]})}):(0,t.jsx)(f.default,{icon:(0,t.jsx)(a.Activity,{size:24}),title:"No slow queries",description:"No commands exceeded the threshold. Your database is performing well."})]})]})}e.s(["default",()=>g],73148)}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37757,40803,e=>{"use strict";var t=e.i(43476);function s({title:e,description:s,badge:l,actions:r}){return(0,t.jsxs)("div",{className:"flex items-start sm:items-center justify-between mb-8 gap-4 flex-col sm:flex-row",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h1",{className:"font-display text-2xl sm:text-3xl font-bold tracking-tight",style:{color:"var(--text-primary)"},children:e}),l&&("string"==typeof l?(0,t.jsx)("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded-full",style:{background:"var(--brand-muted)",color:"var(--brand)"},children:l}):l)]}),(0,t.jsx)("p",{className:"text-sm mt-1.5",style:{color:"var(--text-secondary)"},children:s})]}),r&&(0,t.jsx)("div",{className:"flex items-center gap-2 flex-shrink-0",children:r})]})}function l({icon:e,title:s,description:l,action:r}){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-6 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mb-5",style:{background:"var(--bg-tertiary)",color:"var(--text-tertiary)"},children:e}),(0,t.jsx)("h3",{className:"font-display text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:s}),(0,t.jsx)("p",{className:"text-sm max-w-sm leading-relaxed mb-6",style:{color:"var(--text-tertiary)"},children:l}),r]})}e.s(["default",()=>s],37757),e.s(["default",()=>l],40803)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},31343,e=>{"use strict";let t=(0,e.i(75254).default)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);e.s(["Play",()=>t],31343)},63059,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},74886,43531,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>s],74886);let l=(0,t.default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>l],43531)},95100,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(46932),r=e.i(9165),a=e.i(37757),n=e.i(40803),o=e.i(68054),i=e.i(31343),c=e.i(27612);let d=(0,e.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var x=e.i(74886),m=e.i(43531),u=e.i(63059);let p=["SET","GET","DEL","MGET","MSET","APPEND","INCR","DECR","INCRBY","DECRBY","STRLEN","EXPIRE","TTL","PTTL","PERSIST","TYPE","RENAME","EXISTS","KEYS","SCAN","RANDOMKEY","DBSIZE","FLUSHDB","PING","ECHO","INFO","SELECT","CONFIG","HSET","HGET","HDEL","HGETALL","HKEYS","HVALS","HLEN","HEXISTS","HMSET","HMGET","HINCRBY","LPUSH","RPUSH","LPOP","RPOP","LRANGE","LLEN","LINDEX","LSET","LREM","LTRIM","SADD","SREM","SMEMBERS","SISMEMBER","SCARD","SUNION","SINTER","SDIFF","SRANDMEMBER","SPOP","ZADD","ZREM","ZSCORE","ZRANK","ZRANGE","ZREVRANGE","ZRANGEBYSCORE","ZCARD","ZCOUNT","ZINCRBY","AUTH","ACL","SLOWLOG","MULTI","EXEC","DISCARD"];function h(){let[e,h]=(0,s.useState)(""),[y,f]=(0,s.useState)([]),[g,v]=(0,s.useState)(-1),[b,E]=(0,s.useState)(null),[j,N]=(0,s.useState)([]),[S,R]=(0,s.useState)(0),k=(0,s.useRef)(null),C=(0,s.useRef)(null),T=(0,s.useRef)(0);(0,s.useEffect)(()=>{try{let e=localStorage.getItem("flashdb-console-history");e&&f(JSON.parse(e))}catch{}},[]),(0,s.useEffect)(()=>{try{localStorage.setItem("flashdb-console-history",JSON.stringify(y.slice(-200)))}catch{}},[y]),(0,s.useEffect)(()=>{k.current&&(k.current.scrollTop=k.current.scrollHeight)},[y]),(0,s.useEffect)(()=>{let t=e.split(/\s+/)[0]?.toUpperCase()||"";t.length>0?(N(p.filter(e=>e.startsWith(t)&&e!==t).slice(0,6)),R(0)):N([])},[e]);let w=(0,s.useCallback)(async()=>{var t;let s=e.trim();if(!s)return;let l={id:++T.current,command:s,result:"",isError:!1,timestamp:Date.now()};h(""),v(-1),N([]);let a=await (0,r.executeCommand)(s);l.result=a.error||(null==(t=a.result)?"(nil)":"string"==typeof t?t:Array.isArray(t)?t.length?t.map((e,t)=>`${t+1}) ${JSON.stringify(e)}`).join("\n"):"(empty array)":"object"==typeof t?JSON.stringify(t,null,2):String(t)),l.isError=!!a.error,f(e=>[...e,l])},[e]);return(0,t.jsxs)(l.motion.div,{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,t.jsx)(a.default,{title:"Console",description:`Execute RESP commands \xb7 ${y.length} in history`,actions:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>{let e=new Blob([y.map(e=>`> ${e.command}
${e.result}`).join("\n\n")],{type:"text/plain"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`flashdb-console-${new Date().toISOString().slice(0,10)}.txt`,s.click(),URL.revokeObjectURL(t)},className:"btn-secondary !px-3 !py-1.5 !text-xs",children:[(0,t.jsx)(d,{size:14})," Export"]}),(0,t.jsxs)("button",{onClick:()=>{f([]),localStorage.removeItem("flashdb-console-history")},className:"btn-secondary !px-3 !py-1.5 !text-xs",style:{color:"var(--error)"},children:[(0,t.jsx)(c.Trash2,{size:14})," Clear"]})]})}),(0,t.jsxs)("div",{className:"rounded-xl overflow-hidden",style:{background:"var(--console-bg)",border:"1px solid var(--border)",boxShadow:"var(--shadow-lg)"},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-5 py-3",style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex gap-1.5",children:[(0,t.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{background:"#ef4444"}}),(0,t.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{background:"#f59e0b"}}),(0,t.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{background:"#22c55e"}})]}),(0,t.jsx)("span",{className:"text-xs font-mono",style:{color:"rgba(255,255,255,0.25)"},children:"FlashDB Console — localhost:6379"})]}),(0,t.jsx)(o.Terminal,{size:14,style:{color:"rgba(255,255,255,0.15)"}})]}),(0,t.jsxs)("div",{ref:k,className:"console-output px-5 py-5 font-mono text-sm space-y-3 overflow-y-auto",style:{height:"calc(100vh - 360px)",minHeight:"300px"},children:[!y.length&&(0,t.jsx)(n.default,{icon:(0,t.jsx)(o.Terminal,{size:28}),title:"Ready for commands",description:"Type a RESP command to get started. Try PING, SET key value, or INFO."}),y.map(e=>(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.ChevronRight,{size:11,style:{color:"var(--brand)"}}),(0,t.jsx)("span",{children:function(e){let s=e.split(/\s+/);if(!s.length)return e;let l=s[0].toUpperCase(),r=p.includes(l);return(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{style:{color:r?"var(--brand)":"var(--error)",fontWeight:600},children:s[0]}),s.slice(1).map((e,s)=>(0,t.jsxs)("span",{children:[" ",(0,t.jsx)("span",{style:{color:e.startsWith('"')||e.startsWith("'")?"#34d399":"var(--console-text)"},children:e})]},s))]})}(e.command)}),(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e.result),E(e.id),setTimeout(()=>E(null),1500)},className:"opacity-0 group-hover:opacity-100 transition-opacity ml-auto",style:{color:"rgba(255,255,255,0.2)"},children:b===e.id?(0,t.jsx)(m.Check,{size:11}):(0,t.jsx)(x.Copy,{size:11})})]}),(0,t.jsx)("pre",{className:"mt-1 ml-5 whitespace-pre-wrap text-xs leading-relaxed",style:{color:e.isError?"var(--error)":"rgba(255,255,255,0.45)"},children:e.result})]},e.id))]}),(0,t.jsxs)("div",{className:"relative",style:{borderTop:"1px solid rgba(255,255,255,0.06)"},children:[j.length>0&&(0,t.jsx)("div",{className:"absolute bottom-full left-0 right-0 p-1.5",style:{background:"#1e293b",borderTop:"1px solid rgba(255,255,255,0.06)"},children:j.map((s,l)=>(0,t.jsx)("button",{className:"block w-full text-left px-3 py-1.5 text-xs font-mono rounded-md transition-colors",style:{background:l===S?"var(--brand-muted)":"transparent",color:l===S?"var(--brand)":"#94a3b8"},onClick:()=>{let t=e.split(/\s+/);t[0]=s,h(t.join(" ")+" "),N([]),C.current?.focus()},onMouseEnter:()=>R(l),children:s},s))}),(0,t.jsxs)("div",{className:"flex items-center px-5 py-3.5 gap-3",children:[(0,t.jsx)("span",{className:"font-mono text-sm font-bold",style:{color:"var(--brand)"},children:">"}),(0,t.jsx)("input",{ref:C,value:e,onChange:e=>h(e.target.value),onKeyDown:t=>{if(j.length>0){if("Tab"===t.key){t.preventDefault();let s=e.split(/\s+/);s[0]=j[S],h(s.join(" ")+" "),N([]);return}if("ArrowDown"===t.key){t.preventDefault(),R(e=>Math.min(e+1,j.length-1));return}if("ArrowUp"===t.key){t.preventDefault(),R(e=>Math.max(e-1,0));return}}if("Enter"===t.key)t.preventDefault(),w();else if("ArrowUp"!==t.key||j.length){if("ArrowDown"===t.key&&!j.length){t.preventDefault();let e=y.map(e=>e.command),s=g-1;s>=0?(v(s),h(e[e.length-1-s])):(v(-1),h(""))}}else{t.preventDefault();let e=y.map(e=>e.command),s=g+1;s<e.length&&(v(s),h(e[e.length-1-s]))}},placeholder:"Enter command…",className:"flex-1 bg-transparent font-mono text-sm outline-none",style:{color:"var(--console-text)"},spellCheck:!1,autoComplete:"off"}),(0,t.jsxs)("button",{onClick:w,disabled:!e.trim(),className:"btn-primary !px-3 !py-1.5 !text-xs disabled:opacity-30",children:[(0,t.jsx)(i.Play,{size:12})," Run"]})]})]})]})]})}e.s(["default",()=>h],95100)}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37757,40803,e=>{"use strict";var t=e.i(43476);function s({title:e,description:s,badge:a,actions:l}){return(0,t.jsxs)("div",{className:"flex items-start sm:items-center justify-between mb-8 gap-4 flex-col sm:flex-row",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h1",{className:"font-display text-2xl sm:text-3xl font-bold tracking-tight",style:{color:"var(--text-primary)"},children:e}),a&&("string"==typeof a?(0,t.jsx)("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded-full",style:{background:"var(--brand-muted)",color:"var(--brand)"},children:a}):a)]}),(0,t.jsx)("p",{className:"text-sm mt-1.5",style:{color:"var(--text-secondary)"},children:s})]}),l&&(0,t.jsx)("div",{className:"flex items-center gap-2 flex-shrink-0",children:l})]})}function a({icon:e,title:s,description:a,action:l}){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-6 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mb-5",style:{background:"var(--bg-tertiary)",color:"var(--text-tertiary)"},children:e}),(0,t.jsx)("h3",{className:"font-display text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:s}),(0,t.jsx)("p",{className:"text-sm max-w-sm leading-relaxed mb-6",style:{color:"var(--text-tertiary)"},children:a}),l]})}e.s(["default",()=>s],37757),e.s(["default",()=>a],40803)},88442,e=>{"use strict";var t=e.i(43476);function s({width:e="100%",height:s="16px"}){return(0,t.jsx)("div",{className:"skeleton",style:{width:e,height:s}})}function a(){return(0,t.jsxs)("div",{className:"card p-5 space-y-3",children:[(0,t.jsx)(s,{width:"40%",height:"12px"}),(0,t.jsx)(s,{width:"60%",height:"24px"}),(0,t.jsx)(s,{width:"80%",height:"12px"})]})}function l({rows:e=5}){return(0,t.jsxs)("div",{className:"card overflow-hidden",children:[(0,t.jsx)("div",{className:"px-5 py-3",style:{borderBottom:"1px solid var(--border)"},children:(0,t.jsx)(s,{width:"120px",height:"14px"})}),Array.from({length:e}).map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-4 px-5 py-3",style:{borderTop:a>0?"1px solid var(--border)":void 0},children:[(0,t.jsx)(s,{width:"60px",height:"12px"}),(0,t.jsx)(s,{width:"40%",height:"12px"}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)(s,{width:"80px",height:"12px"})]},a))]})}function r({height:e=120}){return(0,t.jsxs)("div",{className:"card p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(s,{width:"100px",height:"14px"}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)(s,{width:"60px",height:"12px"})]}),(0,t.jsx)("div",{className:"skeleton",style:{width:"100%",height:`${e}px`}})]})}e.s(["SkeletonCard",()=>a,"SkeletonChart",()=>r,"SkeletonLine",()=>s,"SkeletonTable",()=>l])},16715,e=>{"use strict";let t=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],16715)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},52008,e=>{"use strict";let t=(0,e.i(75254).default)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);e.s(["Layers",()=>t],52008)},88081,1523,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);e.s(["Hash",()=>s],88081);let a=(0,t.default)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);e.s(["BarChart3",()=>a],1523)},63059,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},74886,43531,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>s],74886);let a=(0,t.default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>a],43531)},39211,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(46932),l=e.i(88653),r=e.i(58041),i=e.i(55436),n=e.i(16715),c=e.i(27612),o=e.i(7233),d=e.i(88081),x=e.i(75254);let y=(0,x.default)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);var h=e.i(52008),p=e.i(1523);let m=(0,x.default)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);var u=e.i(74886),v=e.i(43531),f=e.i(63059),j=e.i(37727),b=e.i(9165),g=e.i(8776),k=e.i(37757),N=e.i(40803),w=e.i(88442);let C={string:{icon:(0,t.jsx)(m,{size:14}),color:"#f59e0b",label:"String"},hash:{icon:(0,t.jsx)(d.Hash,{size:14}),color:"#0284c7",label:"Hash"},list:{icon:(0,t.jsx)(y,{size:14}),color:"#059669",label:"List"},set:{icon:(0,t.jsx)(h.Layers,{size:14}),color:"#8b5cf6",label:"Set"},zset:{icon:(0,t.jsx)(p.BarChart3,{size:14}),color:"#ef4444",label:"Sorted Set"},unknown:{icon:(0,t.jsx)(r.Database,{size:14}),color:"#71717a",label:"Unknown"}};function S(){let{showToast:e}=(0,g.useToast)(),[d,x]=(0,s.useState)([]),[y,h]=(0,s.useState)(""),[p,m]=(0,s.useState)(!0),[S,T]=(0,s.useState)(null),[L,z]=(0,s.useState)(null),[M,$]=(0,s.useState)(!1),[A,E]=(0,s.useState)(null),[R,P]=(0,s.useState)(!1),[B,D]=(0,s.useState)(""),[H,K]=(0,s.useState)(""),V=(0,s.useCallback)(async()=>{m(!0),x(await (0,b.getKeys)()),m(!1)},[]);(0,s.useEffect)(()=>{V()},[V]);let F=y?d.filter(e=>e.toLowerCase().includes(y.toLowerCase())):d,q=(0,s.useCallback)(async e=>{T(e),$(!0);let t=String((await (0,b.executeCommand)(`TYPE ${e}`)).result??"unknown").toLowerCase(),s="unknown";["string","hash","list","set","zset"].includes(t)&&(s=t);let a=Number((await (0,b.executeCommand)(`TTL ${e}`)).result??-1),l=null;switch(s){case"string":default:l=(await (0,b.executeCommand)(`GET ${e}`)).result;break;case"hash":l=(await (0,b.executeCommand)(`HGETALL ${e}`)).result;break;case"list":l=(await (0,b.executeCommand)(`LRANGE ${e} 0 -1`)).result;break;case"set":l=(await (0,b.executeCommand)(`SMEMBERS ${e}`)).result;break;case"zset":l=(await (0,b.executeCommand)(`ZRANGE ${e} 0 -1`)).result}z({key:e,type:s,ttl:a,value:l}),$(!1)},[]),G=async t=>{await (0,b.executeCommand)(`DEL ${t}`),e(`Deleted ${t}`,"success"),T(null),z(null),V()},U=async()=>{B.trim()&&(await (0,b.executeCommand)(`SET ${B.trim()} ${H.trim()||'""'}`),e(`Created ${B.trim()}`,"success"),P(!1),D(""),K(""),V())};return(0,t.jsxs)(a.motion.div,{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",style:{height:"calc(100vh - 64px)"},initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[(0,t.jsx)(k.default,{title:"Explorer",description:`${d.length} key${1!==d.length?"s":""} in database`,actions:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>P(!0),className:"btn-primary !px-3 !py-1.5 !text-xs",children:[(0,t.jsx)(o.Plus,{size:14})," Add Key"]}),(0,t.jsxs)("button",{onClick:V,className:"btn-secondary !px-3 !py-1.5 !text-xs",children:[(0,t.jsx)(n.RefreshCw,{size:14,className:p?"animate-spin":""})," Refresh"]})]})}),(0,t.jsxs)("div",{className:"flex gap-4",style:{height:"calc(100% - 90px)"},children:[(0,t.jsxs)("div",{className:"w-72 lg:w-80 flex-shrink-0 flex flex-col card overflow-hidden",children:[(0,t.jsx)("div",{className:"p-3",style:{borderBottom:"1px solid var(--border)"},children:(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg",style:{background:"var(--bg-inset)",border:"1px solid var(--border)"},children:[(0,t.jsx)(i.Search,{size:14,style:{color:"var(--text-tertiary)"}}),(0,t.jsx)("input",{value:y,onChange:e=>h(e.target.value),placeholder:"Filter keysâ€¦",className:"flex-1 text-xs bg-transparent outline-none",style:{color:"var(--text-primary)"}}),y&&(0,t.jsx)("button",{onClick:()=>h(""),children:(0,t.jsx)(j.X,{size:12,style:{color:"var(--text-tertiary)"}})})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-1.5",children:p?Array.from({length:8}).map((e,s)=>(0,t.jsx)("div",{className:"px-3 py-2",children:(0,t.jsx)(w.SkeletonLine,{width:`${60+30*Math.random()}%`,height:"14px"})},s)):F.length?F.map(e=>(0,t.jsxs)("button",{onClick:()=>q(e),className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg text-xs font-mono text-left transition-colors group",style:{background:S===e?"var(--brand-muted)":"transparent",color:S===e?"var(--brand)":"var(--text-primary)"},onMouseEnter:t=>{S!==e&&(t.currentTarget.style.background="var(--bg-secondary)")},onMouseLeave:t=>{S!==e&&(t.currentTarget.style.background="transparent")},children:[(0,t.jsx)(f.ChevronRight,{size:11,style:{color:"var(--text-tertiary)"}}),(0,t.jsx)("span",{className:"truncate flex-1",children:e}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),navigator.clipboard.writeText(e),E(e),setTimeout(()=>E(null),1500)},className:"opacity-0 group-hover:opacity-100 transition-opacity",style:{color:"var(--text-tertiary)"},children:A===e?(0,t.jsx)(v.Check,{size:11}):(0,t.jsx)(u.Copy,{size:11})})]},e)):(0,t.jsx)(N.default,{icon:(0,t.jsx)(r.Database,{size:24}),title:d.length?"No match":"No keys yet",description:d.length?"Try a different filter":"Add your first key to get started"})})]}),(0,t.jsx)("div",{className:"flex-1 card overflow-y-auto",children:M?(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsx)(w.SkeletonLine,{width:"30%",height:"24px"}),(0,t.jsx)(w.SkeletonLine,{width:"100%",height:"120px"})]}):L?(0,t.jsxs)("div",{className:"p-6 space-y-5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-semibold",style:{background:`color-mix(in srgb, ${C[L.type].color} 10%, transparent)`,color:C[L.type].color},children:[C[L.type].icon," ",C[L.type].label]}),(0,t.jsx)("h2",{className:"text-lg font-mono font-bold",style:{color:"var(--text-primary)"},children:L.key})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[L.ttl>=0&&(0,t.jsxs)("span",{className:"text-xs px-2.5 py-1 rounded-lg",style:{background:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:["TTL: ",L.ttl,"s"]}),(0,t.jsxs)("button",{onClick:()=>G(L.key),className:"btn-secondary !px-2.5 !py-1 !text-xs",style:{color:"var(--error)"},children:[(0,t.jsx)(c.Trash2,{size:12})," Delete"]})]})]}),(0,t.jsx)("div",{style:{borderTop:"1px solid var(--border)"},className:"pt-5",children:(e=>{if("string"===e.type)return(0,t.jsx)("pre",{className:"text-sm font-mono whitespace-pre-wrap p-4 rounded-lg",style:{background:"var(--bg-inset)",color:"var(--text-primary)"},children:String(e.value??"(nil)")});if("hash"===e.type){let s=Array.isArray(e.value)?e.value:[],a=[];for(let e=0;e<s.length;e+=2)a.push([String(s[e]),String(s[e+1]??"")]);return(0,t.jsx)("div",{className:"rounded-lg overflow-hidden",style:{border:"1px solid var(--border)"},children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{style:{background:"var(--bg-secondary)"},children:[(0,t.jsx)("th",{className:"text-left py-2.5 px-4 text-xs font-semibold",style:{color:"var(--text-tertiary)"},children:"Field"}),(0,t.jsx)("th",{className:"text-left py-2.5 px-4 text-xs font-semibold",style:{color:"var(--text-tertiary)"},children:"Value"})]})}),(0,t.jsx)("tbody",{children:a.map(([e,s],a)=>(0,t.jsxs)("tr",{style:{borderTop:"1px solid var(--border)"},children:[(0,t.jsx)("td",{className:"py-2.5 px-4 font-mono text-xs",style:{color:"var(--brand)"},children:e}),(0,t.jsx)("td",{className:"py-2.5 px-4 font-mono text-xs",style:{color:"var(--text-primary)"},children:s})]},a))})]})})}let s=Array.isArray(e.value)?e.value:[];return(0,t.jsxs)("div",{className:"space-y-1",children:[!s.length&&(0,t.jsx)("p",{className:"text-sm py-8 text-center",style:{color:"var(--text-tertiary)"},children:"(empty)"}),s.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 rounded-lg text-xs font-mono",style:{background:"var(--bg-inset)",color:"var(--text-primary)"},children:[(0,t.jsx)("span",{className:"w-6 text-right",style:{color:"var(--text-tertiary)"},children:s+1}),(0,t.jsx)("span",{children:String(e)})]},s))]})})(L)})]}):(0,t.jsx)(N.default,{icon:(0,t.jsx)(r.Database,{size:28}),title:"Select a key",description:"Choose a key from the list to view its type, TTL, and value."})})]}),(0,t.jsx)(l.AnimatePresence,{children:R&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:()=>P(!1),children:[(0,t.jsx)(a.motion.div,{className:"absolute inset-0",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{background:"var(--modal-overlay)",backdropFilter:"blur(4px)"}}),(0,t.jsxs)(a.motion.div,{className:"relative w-full max-w-md rounded-xl p-6",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},style:{background:"var(--bg-elevated)",border:"1px solid var(--border)",boxShadow:"var(--shadow-xl)"},onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("h3",{className:"font-display text-lg font-bold mb-4",style:{color:"var(--text-primary)"},children:"Add Key"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-semibold mb-1.5 block",style:{color:"var(--text-secondary)"},children:"Key"}),(0,t.jsx)("input",{value:B,onChange:e=>D(e.target.value),className:"input-field",placeholder:"my:key",autoFocus:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-semibold mb-1.5 block",style:{color:"var(--text-secondary)"},children:"Value"}),(0,t.jsx)("input",{value:H,onChange:e=>K(e.target.value),className:"input-field",placeholder:"hello world",onKeyDown:e=>"Enter"===e.key&&U()})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-5",children:[(0,t.jsx)("button",{onClick:()=>P(!1),className:"btn-secondary !text-xs",children:"Cancel"}),(0,t.jsx)("button",{onClick:U,disabled:!B.trim(),className:"btn-primary !text-xs disabled:opacity-40",children:"Create"})]})]})]})})]})}e.s(["default",()=>S],39211)}]);